<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" type="text/css" href="../source/css/style.css">
    <title>Лабораторная робота №4</title>
  </head>
  <body>
    <header class="header">
      <div class="container">
        <div class="header_inner">
      <div class="container">
        <div class="header_inner">
          <div class="dropup">
             <button class="dropbtn"><b>Содержание</b></button>
             <div class="dropup-content">
               <a href="#1">Объект Image</a>
               <a href="#2">Предзагрузка изображений</a>
               <a href="#3">Ролловеры</a>
               <a href="#4">Мультипликации</a>
               <a href="#5">Практика</a>
             </div>
           </div>

          <a href="../index.html" title="Главная страница"><div class="logo_link">
          </div></a>

          <div class="right_menu">
            <div class="list_lab">
            <a href="../Lab1/lab1.html"><b>1</b></a>
            <a href="../Lab2/lab2.html"><b>2</b></a>
            <a href="../Lab3/lab3.html"><b>3</b></a>
            <a href="../Lab4/lab4.html" id="menu_enable"><b>4</b></a>
            <a href="../Lab5/lab5.html"><b>5</b></a>
          </div>
          <a href="../Info/info.html" class="link_img"></a>
          </div>
          </div>

        </div>
      </div>
      </div>
      </div>
    </header>

  <div class="container_color">
    <div class="indentation">
        <h1 align="center" id="1">Объект Image</h1>
        <p>Рисунки на странице размещаются при помощи элемента &lt;img /&gt;.
          В объектной модели документа каждый такой элемент представляется объектом Image. Все изображения в документе содержатся в массиве document.images.</p>
        <p>Для того, чтобы работать с изображением, загруженным на страницу, необходимо получить к нему доступ. Это можно сделать несколькими способами.
            Наиболее предпочтительным является использования свойства document.images.</p>
        <p class="ex">
          &lt;body&gt; <br>
          &lt;img src="image.gif" name="first" /&gt; <br>
          &lt;/body&gt; <br>
        </p>
        <p>Доступ к изображению, добавленному в предыдущем примере можно получить следующим образом:</p>
        <p class="ex">
          image_ref1 = document.images[0]; <br>
          image_ref2 = document.images["first"]; <br>
        </p>
        <p>Кроме того, если в элемент <img /> включен атрибут id, к изображению можно получить доступ как к любому другому элементу страницы
          (либо используя идентификатор изображения как переменную типа Image, либо воспользовавшись методом document.getElementById() для получения ссылки на объект).</p>
          Получив ссылку на изображение, вы можете оперировать следующими свойствами объекта Image: <br>
          <table border="1">
          <tr>
            <th>Свойство</th>
            <th>Описание</th>
          </tr>
          <tr>
            <td>align</td>
            <td>Задает или возвращает значение атрибута выравнивания изображения</td>
          </tr>
          <tr>
            <td>alt</td>
            <td>Задает или возвращает значение атрибута Alt изображения</td>
          </tr>
          <tr>
            <td>border</td>
            <td>Задает или возвращает значение атрибута Border изображения</td>
          </tr>
          <tr>
            <td>complete</td>
            <td>Возвращает значение, по окончании которого браузер загружает изображение</td>
          </tr>
          <tr>
            <td>crossOrigin</td>
            <td>Задает или возвращает параметры перекрестия изображения</td>
          </tr>
          <tr>
            <td>height</td>
            <td>Задает или возвращает значение атрибута Height изображения</td>
          </tr>
          <tr>
            <td>hspace</td>
            <td>Задает или возвращает значение атрибута hspace изображения</td>
          </tr>
          <tr>
            <td>isMap</td>
            <td>Устанавливает или возвращает изображение, которое должно быть частью карты на стороне сервера</td>
          </tr>
          <tr>
            <td>longDesc</td>
            <td>Задает или возвращает значение атрибута longdesc изображения</td>
          </tr>
          <tr>
            <td>lowsrc</td>
            <td>Задает или возвращает URL-адрес для версии изображения с низким разрешением</td>
          </tr>
          <tr>
            <td>name</td>
            <td>Задает или возвращает значение атрибута Name изображения</td>
          </tr>
          <tr>
            <td>naturalHeight</td>
            <td>Возвращает исходную высоту изображения</td>
          </tr>
          <tr>
            <td>naturalWidth</td>
            <td>Возвращает исходную ширину изображения</td>
          </tr>
          <tr>
            <td>src</td>
            <td>Задает или возвращает значение атрибута src изображения</td>
          </tr>
          <tr>
            <td>useMap</td>
            <td>Задает или возвращает значение атрибута usemap изображения</td>
          </tr>
          <tr>
            <td>vspace</td>
            <td>Задает или возвращает значение атрибута vSpace изображения</td>
          </tr>
          <tr>
            <td>width</td>
            <td>Задает или возвращает значение атрибута Width изображения</td>
          </tr>
            </table>
            <p>Кроме того, в JavaScript для объекта Image определены три события, позволяющие отслеживать загрузку изображения. Они перечислены в таблице ниже:</p>
            <table border="1">
            <tr>
              <th>Свойство</th>
              <th>Описание</th>
            </tr>
            <tr>
              <td>onabort</td>
              <td>Загрузка изображения прервана</td>
            </tr>
            <tr>
              <td>onerror</td>
              <td>	При загрузке изображения возникает ошибка</td>
            </tr>
            <tr>
              <td>onload</td>
              <td>Загрузка изображения завершена</td>
            </tr>
            </table>
            <p>При необходимости, объект Image можно создать средствами сценария явным образом. Для этого необходимо вызвать конструктор объекта Image():</p>
            <p class="ex">
              mage_object = new Image(); <br>
              image_object = new Image(width, height) <br>
            </p>
            <p> После создания объекта Image, его свойству src необходимо присвоить строку, содержащую адрес графического файла.
              Если конструктор объекта Image был вызван с параметрами width и height,
              то после присваивании значения свойству src браузер начнет выполнять фоновую загрузку изображения с сервера в кэш браузера.
              Такой прием называется предзагрузкой изображения и используется в тех случаях, когда на страницу загружается изображение большого размера или множество небольших изображений.</p>

            <h2 align="center" id="2">Предзагрузка изображений</h2>
            <p>Принцип предзагрузки состоит в том, что при любом обращении к графическому (и не только) файлу на сервере, браузер скачивает его сохраняет на жестком диске в специальной папке (для браузера Microsoft Internet Explorer это папка Temporary Internet Files и папке профиля каждого пользователя). Этот процесс называется кешированием. "Время жизни" кешированных файлов определяется настройками браузера. Таким образом, нам необходимо поочередно "обратиться" ко всем нужным изображениям на сервере и дождаться окончания их загрузки, после чего разрешить пользователю работать.</p>
            <p>Обеспечить кеширование графического файла можно, создав объект типа Image, в конструктор которого переданы точные размеры загружаемого изображения.
              После этого необходимо присвоить свойству src созданного объекта адрес требуемого графического файла.</p>
            <p>Как же дождаться загрузки всех изображений? Из материала предыдущего раздела вы узнали, что при успешной загрузке изображения объект Image генерирует событие load.
              Таким образом, обрабатывая данное событие, мы можем накапливать в некоторой переменной (например - count) количество загруженных на данный момент изображений и выводить соответствующую информацию и лишить пользователя возможности смены изображения до окончания процесса загрузки.</p>
            <p>В процессе загрузки пользователь будет видеть над изображением диагностическое сообщение о прогрессе загрузки ("Загружено N из M изображений…").
                 При попытке перейти на следующее изображение не дождавшись загрузки всей галереи, пользователь получит сообщение о невозможности такого шага на данном этапе работы.</p>
            <p class="ex">
              &lt;body&gt; <br>
              	&lt;i id="info"&gt;Загрузка изображений...&lt;/i&gt;<br>
              	&lt;br /&gt;<br>
                  &lt;img src="Lab1.jpg" name="picture" /&gt;<br>
                  &lt;br /&gt;<br>
                  &lt;a href="#" onclick="return nextImage()"&gt;Следующее изображение&lt;/a&gt;<br>

                  &lt;script type="text/javascript"&gt;<br>
              		var currentImage = 0, count = 0;<br>
                      var path = new Array("Lab1.jpg", "Lab2.jpg", "Lab3.jpg", "Lab4.jpg");<br>
              		var img = new Array ();<br>

              		for (var i=0; i < path.length; i++) {<br>
              			img[i] = new Image (320, 240);<br>
              			img[i].src = path[i];<br>
              			img[i].onload = countImages;}<br>

              		function countImages () {<br>
              			count++;<br>
              			if (count == path.length)<br>
              				info.innerText = "Готово!";<br>
              			else<br>
              				info.innerText = "Загрузка изображений: " + count + " из " + path.length;}<br>

                      function nextImage() {<br>
              			if (count != path.length) {<br>
              				alert ("Дождитесь пожалуйста загрузки всех изображений!");<br>
              				return;}<br>
                          currentImage++;<br>
                          if (currentImage == path.length)<br>
                              currentImage = 0;<br>
                          document.images["picture"].src = img[currentImage].src;<br>
                          return false;}<br>
                  &lt;/script&gt;<br>
              &lt;/body&gt;<br>
            </p>
            <a href="example/example1.html"><button>Пример №1</button></a>

            <h2 align="center" id="3">Ролловеры</h2>
            <p>Ролловером называют эффект, возникающий при наведении курсора мыши на изображение и при уведении курсора с него (дополнительно, при желании, можно обработать нажатие и отпускание кнопок мыши).
              Принцип действия эффекта достаточно прост: при возникновении определенного события заменить рисунок на другой, при уведении - восстановить прежний.
              Это очень похоже не то, что мы делали в одном из предыдущих разделов при создании кнопки.</p>
              Ниже перечислены основные шаги и принципы создания ролловеров: <br>
              <ul>
                <li>Создайте три изображения, каждое из которых соответствует одному из следующих состояний ролловера:</li>
                <div class="subparagraphs">
                  <li>"coolBtn-normal.gif" - нормальное состояние ролловера;</li>
                  <li>"coolBtn-over.gif" - состояние ролловера под курсором мыши;</li>
                  <li>"coolBtn-down.gif" - состояние ролловера в момент нажатия кнопки мыши на нем;</li>
                </div>
                <li>Проведите предзагрузку всех изображений ролловера.</li>
                <li>Обработайте следующие события:</li>
                <div class="subparagraphs">
                  <li>onmouseover - смена "coolBtn-normal.gif" на "coolBtn-over.gif";</li>
                  <li>onmouseout - смена "coolBtn-over.gif" на "coolBtn-normal.gif";</li>
                  <li>onmousedown - смена "coolBtn-over.gif" на "coolBtn-down.gif";</li>
                  <li>onmouseup - смена "coolBtn-down.gif" на "coolBtn-over.gif";</li>
                </div>
              </ul>
              <p class="ex">
                &lt;body&gt; <br>
                	&lt;img src="Lab1.jpg" name="coolBtn"<br>
                	     onmouseover="changeImage(1);"<br>
                	     onmouseout="changeImage(0);"<br>
                	     onmousedown="changeImage(2);"<br>
                	     onmouseup="changeImage(1);" /&gt;&lt;br&gt;<br>

                	&lt;script type="text/javascript"&gt;<br>
                		var count = 0;<br>
                		var path = new Array ("Lab1.jpg", "Lab2.jpg", "Lab3.jpg");<br>
                		var img = new Array ();<br>
                		for (var i=0; i&lt;path.length; i++) {<br>
                			img[i] = new Image (202, 42);<br>
                			img[i].onload = countImages;<br>
                			img[i].src = path[i];}<br>
                		function countImages () {<br>
                			count++;}<br>
                		function changeImage (index) {<br>
                			if (count == img.length)<br>
                				document.images["coolBtn"].src = img[index].src;}<br>
                	&lt;/script&gt;<br>
                    &lt;a href="../lab4.html">Вернуться обратно&lt;/a&gt;<br>
                &lt;/body&gt;<br>
              </p>
              <a href="example/example2.html"><button>Пример №2</button></a>

              <h2 align="center" id="4">Мультипликации</h2>
              <p>Мультипликация JS позволяет создавать достаточно интерестные эффекты. Для мультипликации нам потребуется метод Window — setTimeout().</p>
              <p>Теперь нам осталось определиться только со способом запуска мультипликации. Запустить мультипликацию можно любым из известных нам обработчиков событий (onLoad(); onClick();), перехватом URL и многими другими способами.</p>
              Пример: <br>
              <p class="ex">
                &lt;script&gt; <br>
                i=1;<br>
                function run1(){<br>
                eval("document.i2.src='Lab"+i+".jpg'");<br>
                i++;<br>
                if(i&gt;3) i=1;<br>
                setTimeout("run1();",1000);}<br>
                &lt;/script&gt;
                &lt;a href="javascript:run1();void(0);"&gt;
                &lt;img name="i2" src="Lab1.jpg"&gt;
                &lt;/a&gt;
              </p>
                <a href="example/example3.html"><button>Пример №3</button></a>
              <p>В нашем примере используется небольшой скрипт с условием, который при вызове начинает динамически заменять одно изображение другим с задержкой в 1000 мс.
                 Когда происходит 3я замена счетчик замен обнуляется и устанавливается изначальное изображение и т.д. до бесконечности.</p>
                 <hr>
                 <h1 align="center" id="5">ПРАКТИКА</h1>
                 <hr>

    </div>
    </div>
    <div class="container">
     <div class="footer">
     <div class="organization">Dnipro National University | Laboratory Workshop &copy; 2020
     </div>
     <div class="author"> Designed by Andriy Demchenko
     </div>
    </div>
  </div>

  </body>
</html>
